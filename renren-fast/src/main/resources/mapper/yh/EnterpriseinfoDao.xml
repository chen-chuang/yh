<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="io.renren.modules.yh.dao.EnterpriseinfoDao">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="io.renren.modules.yh.entity.EnterpriseinfoEntity" id="enterpriseinfoMap">
        <result property="enterpriseId" column="enterprise_id"/>
        <result property="enterpriseName" column="enterprise_name"/>
        <result property="enterpriseImageUrl" column="enterprise_image_url"/>
        <result property="enterpriseAddress" column="enterprise_address"/>
        <result property="enterprisePhone" column="enterprise_phone"/>
        <result property="enterpriseTel" column="enterprise_tel"/>
        <result property="enterpriseContact" column="enterprise_contact"/>
        <result property="enterpriseIntroduction" column="enterprise_introduction"/>
        <result property="enterpriseLongitude" column="enterprise_longitude"/>
        <result property="enterpriseLatitude" column="enterprise_latitude"/>
        <result property="enterpriseAreaId" column="enterprise_area_id"/>
        <result property="enterpriseType" column="enterprise_type"/>
    </resultMap>

	<select id="queryObject" resultType="io.renren.modules.yh.entity.EnterpriseinfoEntity">
		select * from sys_enterpriseinfo where enterprise_id = #{value}
	</select>

	<select id="queryList" resultType="io.renren.modules.yh.entity.EnterpriseinfoEntity">
		select * from sys_enterpriseinfo
        <choose>
            <when test="sidx != null and sidx.trim() != ''">
                order by ${sidx} ${order}
            </when>
			<otherwise>
                order by enterprise_id desc
			</otherwise>
        </choose>
		<if test="offset != null and limit != null">
			limit #{offset}, #{limit}
		</if>
	</select>
	
 	<select id="queryTotal" resultType="int">
		select count(*) from sys_enterpriseinfo 
	</select>
	 
	<insert id="save" parameterType="io.renren.modules.yh.entity.EnterpriseinfoEntity">
		insert into sys_enterpriseinfo
		(
			`enterprise_id`, 
			`enterprise_name`, 
			`enterprise_image_url`, 
			`enterprise_address`, 
			`enterprise_phone`, 
			`enterprise_tel`, 
			`enterprise_contact`, 
			`enterprise_introduction`, 
			`enterprise_longitude`, 
			`enterprise_latitude`, 
			`enterprise_area_id`, 
			`enterprise_type`
		)
		values
		(
			#{enterpriseId}, 
			#{enterpriseName}, 
			#{enterpriseImageUrl}, 
			#{enterpriseAddress}, 
			#{enterprisePhone}, 
			#{enterpriseTel}, 
			#{enterpriseContact}, 
			#{enterpriseIntroduction}, 
			#{enterpriseLongitude}, 
			#{enterpriseLatitude}, 
			#{enterpriseAreaId}, 
			#{enterpriseType}
		)
	</insert>
	 
	<update id="update" parameterType="io.renren.modules.yh.entity.EnterpriseinfoEntity">
		update sys_enterpriseinfo 
		<set>
			<if test="enterpriseName != null">`enterprise_name` = #{enterpriseName}, </if>
			<if test="enterpriseImageUrl != null">`enterprise_image_url` = #{enterpriseImageUrl}, </if>
			<if test="enterpriseAddress != null">`enterprise_address` = #{enterpriseAddress}, </if>
			<if test="enterprisePhone != null">`enterprise_phone` = #{enterprisePhone}, </if>
			<if test="enterpriseTel != null">`enterprise_tel` = #{enterpriseTel}, </if>
			<if test="enterpriseContact != null">`enterprise_contact` = #{enterpriseContact}, </if>
			<if test="enterpriseIntroduction != null">`enterprise_introduction` = #{enterpriseIntroduction}, </if>
			<if test="enterpriseLongitude != null">`enterprise_longitude` = #{enterpriseLongitude}, </if>
			<if test="enterpriseLatitude != null">`enterprise_latitude` = #{enterpriseLatitude}, </if>
			<if test="enterpriseAreaId != null">`enterprise_area_id` = #{enterpriseAreaId}, </if>
			<if test="enterpriseType != null">`enterprise_type` = #{enterpriseType}</if>
		</set>
		where enterprise_id = #{enterpriseId}
	</update>
	
	<delete id="delete">
		delete from sys_enterpriseinfo where enterprise_id = #{value}
	</delete>
	
	<delete id="deleteBatch">
		delete from sys_enterpriseinfo where enterprise_id in 
		<foreach item="enterpriseId" collection="array" open="(" separator="," close=")">
			#{enterpriseId}
		</foreach>
	</delete>

</mapper>